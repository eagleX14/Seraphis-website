import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { toast } from "sonner";

const Index = () => {
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    message: "",
  });
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);

    try {
      // Using FormSubmit.co service - no backend needed
      const response = await fetch("https://formsubmit.co/info@seraphis-it.com", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Accept: "application/json",
        },
        body: JSON.stringify({
          name: formData.name,
          email: formData.email,
          message: formData.message,
          _subject: `New contact from ${formData.name}`,
          _captcha: "false",
        }),
      });

      if (response.ok) {
        toast.success("Message sent successfully!");
        setFormData({ name: "", email: "", message: "" });
      } else {
        throw new Error("Failed to send message");
      }
    } catch (error) {
      toast.error("Failed to send message. Please try again.");
    } finally {
      setIsSubmitting(false);
    }
  };

  const scrollToSection = (id: string) => {
    const element = document.getElementById(id);
    element?.scrollIntoView({ behavior: "smooth" });
  };

  return (
    <div className="min-h-screen bg-background font-['Open_Sans']">
      {/* Header */}
      <header className="fixed top-0 left-0 right-0 bg-card text-primary z-50 shadow-lg border-b-2 border-primary/30">
        <div className="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
          <h1 className="font-['Playfair_Display'] text-2xl font-black tracking-wider cursor-default">
            Seraphis IT &amp; Data Solutions
          </h1>
          <nav className="flex gap-8">
            {["Home", "Industries", "Solutions", "Testimonials", "Contact"].map((item) => (
              <button
                key={item}
                onClick={() => scrollToSection(item.toLowerCase())}
                className="font-semibold text-sm uppercase tracking-wider border-b-2 border-transparent hover:border-primary transition-all pb-1"
              >
                {item}
              </button>
            ))}
          </nav>
        </div>
      </header>

      <main className="pt-24">
        {/* Hero Section */}
        <section
          id="home"
          className="relative text-center py-32 px-4 bg-gradient-to-br from-background via-primary/10 to-secondary/20 rounded-3xl mx-4 mb-12 overflow-hidden"
          style={{
            backgroundImage:
              "url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=1350&q=80')",
            backgroundSize: "cover",
            backgroundPosition: "center",
          }}
        >
          <div className="absolute inset-0 bg-gradient-to-br from-background/90 via-primary/20 to-transparent rounded-3xl" />
          <div className="relative z-10">
            <h1 className="font-['Playfair_Display'] text-6xl font-black mb-4 text-primary tracking-wide drop-shadow-lg">
              Empowering Your Business with Innovative IT Solutions
            </h1>
            <p className="text-2xl font-semibold max-w-3xl mx-auto mb-8 text-foreground/90">
              Your trusted MSP and ISV partner for Data Analytics, Managed IT, Cybersecurity, and
              Compliance.
            </p>
            <Button
              onClick={() => scrollToSection("contact")}
              className="text-xl px-8 py-6 rounded-full font-black uppercase tracking-wider shadow-2xl hover:shadow-primary/50 transition-all bg-gradient-to-r from-primary to-secondary"
            >
              Get in Touch
            </Button>
          </div>
        </section>

        {/* Industries Section */}
        <section id="industries" className="max-w-6xl mx-auto px-4 py-20">
          <h2 className="font-['Playfair_Display'] text-5xl font-black mb-12 text-primary border-l-8 border-primary pl-4">
            Industries We Serve
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {[
              { icon: "🏥", title: "Healthcare", desc: "Secure and compliant IT solutions tailored for healthcare providers and institutions." },
              { icon: "💼", title: "Finance", desc: "Robust data analytics and cybersecurity services for banking and financial organizations." },
              { icon: "🛒", title: "Retail", desc: "Optimizing retail operations with custom applications and managed IT services." },
              { icon: "🏭", title: "Manufacturing", desc: "Innovative IT infrastructure and analytics to streamline manufacturing processes." },
              { icon: "🎓", title: "Education", desc: "Secure learning environments and data-driven insights for educational institutions." },
            ].map((industry) => (
              <div
                key={industry.title}
                className="bg-card rounded-2xl p-8 shadow-lg border border-primary/20 hover:shadow-2xl hover:shadow-primary/30 hover:-translate-y-2 transition-all text-center"
              >
                <div className="text-6xl mb-4">{industry.icon}</div>
                <h3 className="font-['Playfair_Display'] text-2xl font-black mb-3 text-primary">
                  {industry.title}
                </h3>
                <p className="text-foreground/80 leading-relaxed">{industry.desc}</p>
              </div>
            ))}
          </div>
        </section>

        {/* Solutions Section */}
        <section id="solutions" className="max-w-6xl mx-auto px-4 py-20">
          <h2 className="font-['Playfair_Display'] text-5xl font-black mb-12 text-primary border-l-8 border-primary pl-4">
            Our Solutions
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
            {[
              { icon: "📊", title: "Data Analytics", desc: "Transform your data into actionable insights to drive better business decisions." },
              { icon: "💻", title: "Application Development", desc: "Custom software solutions tailored to your business needs and goals." },
              { icon: "🛠️", title: "Managed IT Services", desc: "Proactive IT management and support to keep your operations running smoothly." },
              { icon: "🛡️", title: "Cybersecurity", desc: "Protect your business with comprehensive security strategies and solutions." },
              { icon: "📜", title: "Compliance", desc: "Ensure your business meets industry regulations and standards effortlessly." },
            ].map((solution) => (
              <div
                key={solution.title}
                className="bg-card rounded-3xl p-10 shadow-xl border border-primary/20 hover:shadow-2xl hover:shadow-primary/40 hover:-translate-y-3 transition-all flex flex-col items-center text-center"
              >
                <div className="text-7xl mb-6">{solution.icon}</div>
                <h3 className="font-['Playfair_Display'] text-3xl font-black mb-4 text-primary">
                  {solution.title}
                </h3>
                <p className="text-foreground/80 text-lg leading-relaxed mb-6">{solution.desc}</p>
              </div>
            ))}
          </div>
        </section>

        {/* Testimonials Section */}
        <section id="testimonials" className="max-w-6xl mx-auto px-4 py-20">
          <h2 className="font-['Playfair_Display'] text-5xl font-black mb-12 text-primary border-l-8 border-primary pl-4">
            What Our Clients Say
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-10">
            {[
              { text: "Seraphis transformed our IT infrastructure with their expert managed services. Their proactive approach gave us peace of mind and improved efficiency drastically.", author: "Lisa M., CFO, FinCorp" },
              { text: "Their custom application development perfectly matched our unique business needs, accelerating our digital transformation journey. Highly recommend!", author: "Mark T., CEO, RetailWorld" },
              { text: "Thanks to Seraphis' cybersecurity expertise, we feel confident our data and systems are protected against evolving threats. Their team is responsive and knowledgeable.", author: "Sarah K., IT Director, HealthPlus" },
              { text: "Their data analytics solutions helped us uncover critical insights, driving strategic decisions and business growth. The dashboards are intuitive and powerful.", author: "David R., Operations Manager, ManufacPro" },
            ].map((testimonial, idx) => (
              <div
                key={idx}
                className="bg-card rounded-3xl p-10 shadow-xl border border-primary/20 hover:shadow-2xl hover:shadow-primary/30 hover:-translate-y-2 transition-all relative"
              >
                <div className="absolute top-6 left-6 text-7xl text-primary/30 font-['Playfair_Display'] font-black">
                  "
                </div>
                <p className="italic text-lg text-foreground/80 mb-6 leading-relaxed pt-8">
                  {testimonial.text}
                </p>
                <p className="font-bold text-primary text-right font-['Playfair_Display']">
                  — {testimonial.author}
                </p>
              </div>
            ))}
          </div>
        </section>

        {/* Contact Section */}
        <section id="contact" className="max-w-3xl mx-auto px-4 py-20">
          <h2 className="font-['Playfair_Display'] text-5xl font-black mb-8 text-primary border-l-8 border-primary pl-4">
            Contact Us
          </h2>
          <p className="text-xl text-foreground/80 mb-4">
            Have questions or want to discuss your IT needs? Reach out to us!
          </p>
          <p className="text-lg mb-8">
            <strong>Phone:</strong>{" "}
            <a href="tel:+27670542001" className="text-primary hover:text-secondary">
              +27 67 054 2001
            </a>
            <br />
            <strong>Email:</strong>{" "}
            <a href="mailto:info@seraphis-it.com" className="text-primary hover:text-secondary">
              info@seraphis-it.com
            </a>
          </p>
          <form onSubmit={handleSubmit} className="space-y-6">
            <div>
              <label htmlFor="name" className="block mb-2 font-bold text-primary text-lg">
                Name *
              </label>
              <Input
                id="name"
                value={formData.name}
                onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                required
                placeholder="Your full name"
                className="text-lg py-6 border-2 border-input focus:border-primary"
              />
            </div>
            <div>
              <label htmlFor="email" className="block mb-2 font-bold text-primary text-lg">
                Email *
              </label>
              <Input
                id="email"
                type="email"
                value={formData.email}
                onChange={(e) => setFormData({ ...formData, email: e.target.value })}
                required
                placeholder="your.email@example.com"
                className="text-lg py-6 border-2 border-input focus:border-primary"
              />
            </div>
            <div>
              <label htmlFor="message" className="block mb-2 font-bold text-primary text-lg">
                Message *
              </label>
              <Textarea
                id="message"
                value={formData.message}
                onChange={(e) => setFormData({ ...formData, message: e.target.value })}
                required
                rows={5}
                placeholder="Write your message here..."
                className="text-lg border-2 border-input focus:border-primary resize-y"
              />
            </div>
            <Button
              type="submit"
              disabled={isSubmitting}
              className="w-full text-xl py-7 rounded-full font-black uppercase tracking-wider shadow-xl hover:shadow-2xl transition-all bg-gradient-to-r from-primary to-secondary"
            >
              {isSubmitting ? "Sending..." : "Send Message"}
            </Button>
          </form>
        </section>
      </main>

      {/* Footer */}
      <footer className="text-center py-12 border-t-2 border-primary/30 mt-20">
        <p className="text-primary font-semibold tracking-wide">
          &copy; 2024 Seraphis IT and Data Solutions |{" "}
          <a
            href="https://linkedin.com/company/seraphis"
            target="_blank"
            rel="noopener"
            className="hover:text-secondary transition-colors mx-2"
          >
            LinkedIn
          </a>{" "}
          |{" "}
          <a
            href="https://twitter.com/seraphis"
            target="_blank"
            rel="noopener"
            className="hover:text-secondary transition-colors mx-2"
          >
            Twitter
          </a>{" "}
          |{" "}
          <a
            href="mailto:info@seraphis-it.com"
            className="hover:text-secondary transition-colors mx-2"
          >
            Email Us
          </a>
        </p>
      </footer>
    </div>
  );
};

export default Index;
